"use strict";(self.webpackChunkdbt=self.webpackChunkdbt||[]).push([[58],{5058:(S,d,i)=>{i.r(d),i.d(d,{SettingsModule:()=>c});var u=i(6895),f=i(1135),t=i(1571);class a{constructor(){}export(){const e={};for(let n=0;n<localStorage.length;n++){const s=localStorage.key(n);e[s]=localStorage.getItem(s)}this.downloadObjectAsJson("dbt",e)}import(e){const n=new FileReader;n.readAsText(e),n.addEventListener("loadend",s=>{const o=s.target?.result;if(o){const p=JSON.parse(o.toString());Object.keys(p).forEach(g=>{localStorage.setItem(g,p[g])})}})}downloadObjectAsJson(e,n){const s="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(n)),o=document.createElement("a");o.setAttribute("href",s),o.setAttribute("download",e+".json"),document.body.appendChild(o),o.click(),o.remove()}}a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"});class l{constructor(e){this.service=e,this.file=new f.X(void 0)}setFile(e){const n=e.target.files;n&&n.length>0&&this.file.next(n[0])}import(){const e=this.file.getValue();e&&this.service.import(e),this.file.next(void 0)}export(){this.service.export()}}l.\u0275fac=function(e){return new(e||l)(t.Y36(a))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-settings"]],decls:14,vars:3,consts:[[1,"container-fluid"],[1,"display-1","my-5","text-center"],[1,"d-grid","gap-3","text-center"],[1,"btn","btn-lg","btn-success","mb-5",3,"click"],["type","file",1,"form-control",3,"change"],[1,"btn","btn-lg","btn-danger",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Settings"),t.qZA(),t.TgZ(3,"div",2)(4,"span"),t._uU(5,"Save your app data in a json file"),t.qZA(),t.TgZ(6,"button",3),t.NdJ("click",function(){return n.export()}),t._uU(7,"Export Data"),t.qZA(),t.TgZ(8,"span"),t._uU(9,"Import your saved app data"),t.qZA(),t.TgZ(10,"input",4),t.NdJ("change",function(o){return n.setFile(o)}),t.qZA(),t.TgZ(11,"button",5),t.NdJ("click",function(){return n.import()}),t.ALo(12,"async"),t._uU(13,"Import Data"),t.qZA()()()),2&e&&(t.xp6(11),t.Q6J("disabled",!t.lcZ(12,1,n.file)))},dependencies:[u.Ov],encapsulation:2});var m=i(8831);const h=[{path:"",component:l}];class c{}c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[u.ez,m.Bz.forChild(h)]})}}]);