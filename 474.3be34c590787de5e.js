"use strict";(self.webpackChunkdbt=self.webpackChunkdbt||[]).push([[474],{5474:(D,m,a)=>{a.r(m),a.d(m,{FoodModule:()=>r});var i=a(6895),t=a(1571),f=a(1135),g=a(7910);class d{constructor(e){this.storage=e,this.day=new f.X((new Date).toISOString().substring(0,10)),this.data=new f.X([]),this.day.subscribe(()=>this.update())}get data$(){return this.data.asObservable()}update(){const e=this.storage.get(g.i.FOOD,this.day.getValue())||[];this.data.next(e)}add(e){const n=this.storage.get(g.i.FOOD,this.day.getValue())||[];n.push({date:(new Date).toISOString(),name:e}),n.sort((l,p)=>l.date.localeCompare(p.date)),this.storage.set(g.i.FOOD,this.day.getValue(),n)}}d.\u0275fac=function(e){return new(e||d)(t.LFG(g.V))},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"});var h=a(433);class c{constructor(){this.date=new Date,this.onDateChange=new t.vpe}ngOnInit(){this.emit()}prev(){this.date=new Date(this.date.setDate(this.date.getDate()-1)),this.emit()}next(){this.date=new Date(this.date.setDate(this.date.getDate()+1)),this.emit()}emit(){this.onDateChange.emit(this.date.toISOString().substring(0,10))}}function v(o,e){if(1&o&&(t.TgZ(0,"li",15)(1,"p",16),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"p",17),t._uU(5),t.qZA()()),2&o){const n=e.$implicit;t.xp6(2),t.Oqu(t.xi3(3,2,n.date,"HH:mm:ss")),t.xp6(3),t.Oqu(n.name)}}c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-day-selector"]],outputs:{onDateChange:"onDateChange"},decls:11,vars:4,consts:[[1,"row","g-2"],[1,"col-auto"],[1,"btn","btn-link",3,"click"],[1,"bi","bi-caret-left-fill"],[1,"col","d-flex","justify-content-center","align-items-center"],[1,"bi","bi-caret-right-fill"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return n.prev()}),t._UZ(3,"i",3),t.qZA()(),t.TgZ(4,"div",4)(5,"span"),t._uU(6),t.ALo(7,"date"),t.qZA()(),t.TgZ(8,"div",1)(9,"button",2),t.NdJ("click",function(){return n.next()}),t._UZ(10,"i",5),t.qZA()()()),2&e&&(t.xp6(6),t.Oqu(t.xi3(7,1,n.date,"dd / MM / yyyy")))},dependencies:[i.uU],encapsulation:2});class u{constructor(e){this.dataService=e,this.inputField=""}ngOnInit(){this.day=this.dataService.day,this.data$=this.dataService.data$,this.dataService.update()}add(){""!==this.inputField.trim()&&(this.dataService.add(this.inputField),this.inputField="",this.dataService.update())}}u.\u0275fac=function(e){return new(e||u)(t.Y36(d))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-feature"]],decls:19,vars:4,consts:[[1,"h-100","d-flex","flex-column"],[1,"flex-grow-1","overflow-y-auto"],[1,"container-lg","text-center","my-5"],[1,"display-1"],[1,"container-lg","my-3"],[3,"onDateChange"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"bg-light","shadow",2,"left","0","right","0","bottom","0"],[1,"row","g-2"],[1,"col"],["placeholder","What did you eat?",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-auto"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-send"],[1,"list-group-item"],[1,"mb-1","text-muted","small"],[1,"mb-0"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4,"Food Tracking"),t.qZA()(),t.TgZ(5,"div",4)(6,"app-day-selector",5),t.NdJ("onDateChange",function(p){return n.day.next(p)}),t.qZA()(),t.TgZ(7,"div",4)(8,"ul",6),t.YNc(9,v,6,5,"li",7),t.ALo(10,"async"),t.qZA()()(),t.TgZ(11,"div",8)(12,"div",4)(13,"div",9)(14,"div",10)(15,"input",11),t.NdJ("ngModelChange",function(p){return n.inputField=p}),t.qZA()(),t.TgZ(16,"div",12)(17,"button",13),t.NdJ("click",function(){return n.add()}),t._UZ(18,"i",14),t.qZA()()()()()()),2&e&&(t.xp6(9),t.Q6J("ngForOf",t.lcZ(10,2,n.data$)),t.xp6(6),t.Q6J("ngModel",n.inputField))},dependencies:[i.sg,h.Fj,h.JJ,h.On,c,i.Ov,i.uU],encapsulation:2});class s{}s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[i.ez]});var y=a(562);const F=[{path:"",component:u}];class r{}r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[i.ez,h.u5,y.Bz.forChild(F),s]})}}]);