"use strict";(self.webpackChunkdbt=self.webpackChunkdbt||[]).push([[5],{2005:(C,p,a)=>{a.r(p),a.d(p,{FoodModule:()=>d});var r=a(6895),t=a(1571),m=a(1135),c=a(7910);class i{constructor(e){this.storage=e,this.day=new m.X((new Date).toISOString().substring(0,10)),this.data=new m.X([]),this.day.subscribe(()=>this.update())}get data$(){return this.data.asObservable()}update(){const e=this.storage.get(c.i.FOOD,this.day.getValue())||[];this.data.next(e)}add(e){const o=this.storage.get(c.i.FOOD,this.day.getValue())||[];o.push({date:(new Date).toISOString(),name:e}),o.sort((g,l)=>g.date.localeCompare(l.date)),this.storage.set(c.i.FOOD,this.day.getValue(),o)}}i.\u0275fac=function(e){return new(e||i)(t.LFG(c.V))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"});var u=a(433),h=a(6702);function v(n,e){if(1&n&&(t.TgZ(0,"li",16)(1,"p",17),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"p",18),t._uU(5),t.qZA()()),2&n){const o=e.$implicit;t.xp6(2),t.Oqu(t.xi3(3,2,o.date,"HH:mm:ss")),t.xp6(3),t.Oqu(o.name)}}class s{constructor(e){this.dataService=e,this.inputField=""}ngOnInit(){this.day=this.dataService.day,this.data$=this.dataService.data$,this.dataService.update()}add(){""!==this.inputField.trim()&&(this.dataService.add(this.inputField),this.inputField="",this.dataService.update())}}s.\u0275fac=function(e){return new(e||s)(t.Y36(i))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-feature"]],decls:19,vars:4,consts:[[1,"h-100","d-flex","flex-column"],[1,"flex-grow-1","overflow-y-auto"],[1,"container-lg","text-center","my-5"],[1,"display-1"],[1,"container-lg","my-3"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"bg-light","shadow",2,"left","0","right","0","bottom","0"],[1,"container-lg","my-2"],[3,"onDateChange"],[1,"row","g-2"],[1,"col"],["placeholder","What did you eat?",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],[1,"col-auto"],[1,"btn","btn-lg","btn-primary",3,"click"],[1,"bi","bi-send"],[1,"list-group-item"],[1,"mb-1","text-muted","small"],[1,"mb-0"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4,"Food Tracking"),t.qZA()(),t.TgZ(5,"div",4)(6,"ul",5),t.YNc(7,v,6,5,"li",6),t.ALo(8,"async"),t.qZA()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"app-day-selector",9),t.NdJ("onDateChange",function(l){return o.day.next(l)}),t.qZA()(),t.TgZ(12,"div",8)(13,"div",10)(14,"div",11)(15,"input",12),t.NdJ("ngModelChange",function(l){return o.inputField=l}),t.qZA()(),t.TgZ(16,"div",13)(17,"button",14),t.NdJ("click",function(){return o.add()}),t._UZ(18,"i",15),t.qZA()()()()()()),2&e&&(t.xp6(7),t.Q6J("ngForOf",t.lcZ(8,2,o.data$)),t.xp6(8),t.Q6J("ngModel",o.inputField))},dependencies:[r.sg,u.Fj,u.JJ,u.On,h.U,r.Ov,r.uU],encapsulation:2});var f=a(5404),F=a(9430);const y=[{path:"",component:s}];class d{}d.\u0275fac=function(e){return new(e||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[r.ez,u.u5,F.Bz.forChild(y),f.n]})}}]);